## Dockerfile
**Dockerfile** - это файл (без разрешения), содержащий в себе текс, который докер использует как инструкцию для автоматического создания образа. (то есть скрипт по которому докер соберет новый образ).

![alt text](./pictures/dockerfile.png)

Формат, структура и все команды описаны в https://docs.docker.com/reference/dockerfile/

### Команды внутри докерфайла
`docker build -t <имя:тег> <путь до папки>` - создание образа докера используя докер файл из указанной папки

`docker build -t <имя:тег> -f <путь до докерфайла>` - атрибут **-f** позволяет указать какой именно докерфайл нужно использовать (для случаев когда есть несколько докерфайлов, например дев и прод)

- `FROM <image>` - команда для выбора образа на котором будет основываться наш образ (например `FROM ubuntu:latest`)
- `WORKDIR <path>` - установка рабочей директории внутри докерфайла для других команд докерфайла
- `COPY <localPath> <imagePath>` - копирование с коппьтера где находиться докерфайл внутрь докер образа 
- `RUN <команда>` - запуск некой команды (`RUN echo "Hello"`)
- 

Стоит использовать **.gitignore** файл для исключения файлов из папки. Стоит включать в этот файл (исключать для докера) ненужные папки т.к. при создании образа докер будет считывать всю корневую папку.

Нужно стараться уменьшать количество слоев для избежания проблем когда нам нужно заново запустить какую либо команду, а докер видя что команда была в предыдущем слое просто переиспользует его из кеша (инвалидность кеша).

Новые слои создают команды `FROM`, `RUN`, `COPY`, `ADD`


## Создание собственного репозитория
`docker login` - авторизация в docker hub  
`docker logout` - разлогивание локально на хосте  
`docker tag <исходный_образ> <результирующий_образ>`